function init(a,t,r){d3=d3version4;var e=d3.timeParse("%Y-%m");d3=d3version3,party=t,data=r,t=[];for(var n=0;n<party.length;n++){var d={values:[],key:party[n].party,color:getRandomColor()};t.push(d)}for(var n=0;n<t.length;n++){values=[];for(var o=0;o<data.length;o++)t[n].key==data[o].party&&values.push({x:e(data[o].year+"-"+data[o].month),y:parseInt(parseFloat(data[o].x1))});t[n].values=values}nv.addGraph(function(){return chart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:!0}),chart.xAxis.axisLabel("Date - Year-Month").tickFormat(function(a){return d3.time.format("%Y-%m")(new Date(a))}).staggerLabels(!0),chart.yAxis.axisLabel("Value - R$").tickFormat(function(a){return null==a?"N/A":d3.format(",.2f")(a)}),data=t,d3.select("#party-svg").datum(data).call(chart),nv.utils.windowResize(chart.update),chart})}function getRandomColor(){for(var a="0123456789ABCDEF",t="#",r=0;r<6;r++)t+=a[Math.floor(16*Math.random())];return t}d3=d3version4,d3.queue().defer(d3.csv,"/data/parties.csv").defer(d3.csv,"/data/byparty.csv").await(init);