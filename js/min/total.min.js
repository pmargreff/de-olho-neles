var svg=d3.select("svg"),margin={top:20,right:20,bottom:30,left:50},width=+svg.attr("width")-margin.left-margin.right,height=+svg.attr("height")-margin.top-margin.bottom,g=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")"),parseTime=d3.timeParse("%Y-%m"),x=d3.scaleTime().rangeRound([0,width]),y=d3.scaleLinear().rangeRound([height,0]),line=d3.line().x(function(t){return x(t.date)}).y(function(t){return y(t.x1)});d3.csv("./data/totalbytime.csv",function(t){return t.date=parseTime(t.date),t.x1=+t.x1,t},function(t,a){if(t)throw t;x.domain(d3.extent(a,function(t){return t.date})),y.domain(d3.extent(a,function(t){return t.x1})),g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),g.append("g").attr("class","axis axis--y").call(d3.axisLeft(y).ticks(4).tickFormat(d3.formatPrefix(".0",1e7))).append("text").attr("fill","#000").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").style("text-anchor","end").text("Valor - R$"),g.append("path").datum(a).attr("class","line").attr("d",line)});